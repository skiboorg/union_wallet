"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[265],{95265:(e,l,a)=>{a.r(l),a.d(l,{default:()=>ne});var u=a(59835),n=a(60499),t=a(86970),o=a(46190),s=a(23459),m=a(98030),d=a(39981),i=a.n(d),v=a(87270),p=a(99407),c=a(17779);const r=(0,u._)("div",{class:"",style:{height:"60px"}},null,-1),U={class:"q-mb-lg"},b={key:0},q={key:0},V=(0,u._)("p",{class:"q-mb-sm text-negative"},"Внимание! ФИО верифицированного пользователя должно совпадать с ФИО владельца карты.",-1),w=(0,u._)("p",{class:"q-mb-sm text-negative"},"Срок вывода зависит от банка и может занимать до 5 рабочих дней. Комиссия на вывод 50 рублей +2%, удерживается из выводимой суммы",-1),S=(0,u._)("p",{class:"q-mb-sm text-caption"},"Номер карты*",-1),k=(0,u._)("p",{class:"q-mb-sm text-caption"},"Название банка*",-1),_=(0,u._)("p",{class:"q-mb-sm text-caption"},"ФИО получателя (владельца карты)*",-1),g={key:0,class:""},y=(0,u._)("p",{class:"q-mb-sm text-caption"},"ФИО*",-1),A=(0,u._)("p",{class:"q-mb-sm text-caption"},"Телефон*",-1),$=(0,u._)("p",{class:"q-mb-sm text-caption"},"Паспорт (серия номер)*",-1),x=(0,u._)("p",{class:"q-mb-sm text-caption"},"Кем выдан*",-1),f=(0,u._)("p",{class:"q-mb-sm text-caption"},"Прописка*",-1),W=(0,u._)("p",{class:"q-mb-sm text-caption"},"ИНН*",-1),h=(0,u._)("p",{class:"q-mb-sm text-caption"},"СНИЛС*",-1),H={class:"q-mb-sm text-caption"},z=(0,u.Uk)("Сумма вывода в рублях* (Ваш баланс "),D=(0,u.Uk)(" RUB)"),C=(0,u._)("p",{class:"q-mb-sm text-caption"},"Минимальная сумма вывода 5000 RUB",-1),F={key:1,class:"q-mb-sm text-caption text-bold"},R={key:2,class:"q-mb-sm text-caption text-bold"},Q={key:1},Z=(0,u._)("p",{class:"q-mb-sm text-negative"},"Сервис RUPAY не взимает комиссию за вывод, однако блокчейн выводимой сети взимает, на ваш счёт указанный для вывода поступит сумма за вычетом комиссии сети ",-1),B={class:"q-mb-sm text-caption"},N=(0,u._)("p",{class:"q-mb-sm text-caption"},"ФИО получателя*",-1),P={class:"q-mb-sm text-caption"},E=(0,u.Uk)("Сумма вывода (Ваш баланс "),K={class:"q-mb-sm text-caption"},T={key:1},j={class:"text-center"},G=(0,u.Uk)("Вывод средств доступен только "),X=(0,u.Uk)("верифицированным"),I=(0,u.Uk)(" пользователям."),M={__name:"Withdraw",setup(e){const l=(0,o.c)(),a=(0,s.Q)();let d=(0,n.iH)([]);const M=(0,u.Fl)((()=>a.assets)),O=(0,n.iH)({amount:"",address:"7PsEDvVphCpXwk7NrZyAyHNR7d6Fp57Xcy",title:"Вывод",message:"Вывод",encrypted:!1,fee:0,raw:0});let Y=(0,n.iH)(null),J=(0,n.iH)(null),L=(0,n.iH)(null),ee=(0,n.iH)(!1),le=((0,n.iH)(null),(0,n.iH)(null)),ae=(0,n.iH)(null),ue=(0,n.iH)(null),ne=(0,n.iH)(null),te=(0,n.iH)(null),oe=(0,n.iH)(null),se=(0,n.iH)(null),me=(0,n.iH)(null),de=(0,n.iH)(null);const ie=(0,n.iH)(!1),ve=(0,n.iH)([{label:"Оплатить подоходный налог 13%",value:!0},{label:"Я являюсь самозанятым налоги оплачиваю сам",value:!1}]);async function pe(){ee.value=!ee.value,await Ue()}const ce=(0,u.Fl)((()=>l.balances)),re=(0,u.Fl)((()=>l.verifyPersonData));async function Ue(){ee.value=!ee.value;const e=!0,l=await a.getKeyPair(),u=new p.EraChain.Type.KeyPair(l),n={assetKey:le.value.key,amount:O.value.amount};c.log(u),c.log(n);const t=await m.era.tranRawSendAsset(u,n,O.value.address,O.value.title,O.value.message,O.value.encrypted,e);c.log(t),t.error?(0,v.d)("negative",t.error.message):(O.value.fee=t.fee,O.value.raw=t.raw,await be()),ee.value=!ee.value}async function be(){const e=await m.era.broadcast64(O.value.raw);if(c.log(e),e.error)(0,v.d)("negative",e.message),ee.value=!ee.value;else{(0,v.d)("info","Транзакция создана");let e="";ae.value&&(e=`ФИО введенное : ${Y.value}%0A\n            ФИО в блокчейне ${re.value.name}%0A\n            Адрес сети ${le.value.name} : ${ae.value}%0A\n            Сумма в ${le.value.name}: ${O.value.amount}%0A`),ae.value||ie.value||(e=`ФИО введенное : ${Y.value}%0A\n            ФИО в блокчейне ${re.value.name}%0A\n            Номер карты: ${L.value}%0A\n            Банк: ${J.value}%0A\n            Сумма вывода в ${le.value.name}: ${O.value.amount}%0A\n            Сумма вывода в ${le.value.name} - (2% + 50): ${O.value.amount-(.02*O.value.amount+50)}%0A\n            Оплатить подоходный налог 13%: НЕТ`),ie.value&&!ae.value&&(e=`ФИО введенное : ${Y.value}%0A\n  ФИО в блокчейне ${re.value.name}%0A\n  Номер карты: ${L.value}%0A\n  Банк: ${J.value}%0A\n  Сумма вывода в ${le.value.name}: ${O.value.amount}%0A\n  Сумма вывода в ${le.value.name} - (15% + 50): ${O.value.amount-(.15*O.value.amount+50)}%0A\n  Оплатить подоходный налог 13%: ДА%0A\n  ФИО: ${ue.value}%0A\n  НОМЕР ТЕЛЕФОНА: ${ne.value}%0A\n  ПАСПОРТ серия номер: ${te.value}%0A\n  Кем выдан: ${oe.value}%0A\n  Прописка: ${se.value}%0A\n  ИНН: ${me.value}%0A\n  СНИЛС: ${de.value}%0A`),await i().get(`https://api.telegram.org/bot603507616:AAEmmGeaujFe_lqkw31HHSoh2EiAvVNtFA4/sendMessage?chat_id=-542426502\n  &text=${e}`),Y.value=null,L.value=null,J.value=null,O.value.amount=null,(0,v.d)("positive","Запрос успешно отправлен"),ee.value=!ee.value}}return(0,u.wF)((()=>{d.value=M.value.filter((e=>e.can_withdrawal))})),(e,l)=>{const a=(0,u.up)("page-header"),o=(0,u.up)("q-select"),s=(0,u.up)("q-input"),m=(0,u.up)("q-option-group"),i=(0,u.up)("q-btn"),v=(0,u.up)("router-link"),p=(0,u.up)("q-scroll-area"),c=(0,u.up)("page-body"),M=(0,u.up)("page");return(0,u.wg)(),(0,u.j4)(M,null,{default:(0,u.w5)((()=>[(0,u.Wm)(c,{class:"q-px-md"},{default:(0,u.w5)((()=>[(0,u.Wm)(a),r,(0,u._)("div",U,[(0,u.Wm)(p,{style:{height:"85vh"}},{default:(0,u.w5)((()=>[(0,n.SU)(re)?((0,u.wg)(),(0,u.iD)("div",b,[(0,u.Wm)(o,{modelValue:(0,n.SU)(le),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,n.dq)(le)?le.value=e:le=e),outlined:"",rounded:"",dense:"","options-dense":"",options:(0,n.SU)(d),"option-label":"name",label:"Выберите актив*",class:"q-mb-md"},null,8,["modelValue","options"]),(0,n.SU)(le)&&1643===(0,n.SU)(le).key?((0,u.wg)(),(0,u.iD)("div",q,[V,w,S,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(L),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.dq)(L)?L.value=e:L=e),mask:"#### #### #### ####","fill-mask":"_"},null,8,["modelValue"]),k,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(J),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,n.dq)(J)?J.value=e:J=e)},null,8,["modelValue"]),_,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(Y),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,n.dq)(Y)?Y.value=e:Y=e)},null,8,["modelValue"]),(0,u.Wm)(m,{class:"q-mb-sm",options:ve.value,type:"radio",modelValue:ie.value,"onUpdate:modelValue":l[4]||(l[4]=e=>ie.value=e)},null,8,["options","modelValue"]),ie.value?((0,u.wg)(),(0,u.iD)("div",g,[y,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(ue),"onUpdate:modelValue":l[5]||(l[5]=e=>(0,n.dq)(ue)?ue.value=e:ue=e)},null,8,["modelValue"]),A,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(ne),"onUpdate:modelValue":l[6]||(l[6]=e=>(0,n.dq)(ne)?ne.value=e:ne=e),mask:"+7(###)### ## ##","fill-mask":"_"},null,8,["modelValue"]),$,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(te),"onUpdate:modelValue":l[7]||(l[7]=e=>(0,n.dq)(te)?te.value=e:te=e),mask:"#### ######","fill-mask":"_"},null,8,["modelValue"]),x,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(oe),"onUpdate:modelValue":l[8]||(l[8]=e=>(0,n.dq)(oe)?oe.value=e:oe=e)},null,8,["modelValue"]),f,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(se),"onUpdate:modelValue":l[9]||(l[9]=e=>(0,n.dq)(se)?se.value=e:se=e)},null,8,["modelValue"]),W,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(me),"onUpdate:modelValue":l[10]||(l[10]=e=>(0,n.dq)(me)?me.value=e:me=e)},null,8,["modelValue"]),h,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(de),"onUpdate:modelValue":l[11]||(l[11]=e=>(0,n.dq)(de)?de.value=e:de=e)},null,8,["modelValue"])])):(0,u.kq)("",!0),(0,u._)("p",H,[z,(0,u._)("span",null,(0,t.zw)((0,n.SU)(ce)[1643]?(0,n.SU)(ce)[1643][0][1]:"0"),1),D]),C,(0,u.Wm)(s,{class:"q-mb-md",rounded:"",dense:"",outlined:"",modelValue:O.value.amount,"onUpdate:modelValue":l[13]||(l[13]=e=>O.value.amount=e),type:"number"},(0,u.Nv)({_:2},[(0,n.SU)(ce)[1643]?{name:"append",fn:(0,u.w5)((()=>[(0,u.Wm)(i,{onClick:l[12]||(l[12]=e=>O.value.amount=(0,n.SU)(ce)[1643][0][1]),size:"10px",flat:"",rounded:"",label:"Вывести все"})]))}:void 0]),1032,["modelValue"]),ie.value?((0,u.wg)(),(0,u.iD)("p",F,"Вы получите: "+(0,t.zw)(O.value.amount-(.15*O.value.amount+50))+" RUB",1)):((0,u.wg)(),(0,u.iD)("p",R,"Вы получите: "+(0,t.zw)(O.value.amount-(.02*O.value.amount+50))+" RUB",1)),(0,u.Wm)(i,{color:"primary",rounded:"",loading:(0,n.SU)(ee),onClick:pe,disable:!O.value.amount||O.value.amount<5e3||!(0,n.SU)(Y)||!(0,n.SU)(L)||!(0,n.SU)(J),unelevated:"","no-caps":"",class:"full-width q-py-md",label:"Отправить"},null,8,["loading","disable"])])):(0,u.kq)("",!0),(0,n.SU)(le)&&1643!==(0,n.SU)(le).key?((0,u.wg)(),(0,u.iD)("div",Q,[Z,(0,u._)("p",B,"Адрес в сети "+(0,t.zw)((0,n.SU)(le).description)+" "+(0,t.zw)((0,n.SU)(le).name)+"*",1),(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(ae),"onUpdate:modelValue":l[14]||(l[14]=e=>(0,n.dq)(ae)?ae.value=e:ae=e)},null,8,["modelValue"]),N,(0,u.Wm)(s,{class:"q-mb-sm",rounded:"",dense:"",outlined:"",modelValue:(0,n.SU)(Y),"onUpdate:modelValue":l[15]||(l[15]=e=>(0,n.dq)(Y)?Y.value=e:Y=e)},null,8,["modelValue"]),(0,u._)("p",P,[E,(0,u._)("span",null,(0,t.zw)((0,n.SU)(ce)[(0,n.SU)(le).key]?(0,n.SU)(ce)[(0,n.SU)(le).key][0][1]:"0"),1),(0,u.Uk)(" "+(0,t.zw)((0,n.SU)(le).name)+")",1)]),(0,u._)("p",K,"Минимальная сумма вывода "+(0,t.zw)(5e3/(0,n.SU)(le).course)+" "+(0,t.zw)((0,n.SU)(le).name),1),(0,u.Wm)(s,{class:"q-mb-md",rounded:"",dense:"",outlined:"",modelValue:O.value.amount,"onUpdate:modelValue":l[17]||(l[17]=e=>O.value.amount=e),type:"number"},(0,u.Nv)({_:2},[(0,n.SU)(ce)[(0,n.SU)(le).key]?{name:"append",fn:(0,u.w5)((()=>[(0,u.Wm)(i,{onClick:l[16]||(l[16]=e=>O.value.amount=(0,n.SU)(ce)[(0,n.SU)(le).key][0][1]),size:"10px",flat:"",rounded:"",label:"Вывести все"})]))}:void 0]),1032,["modelValue"]),(0,u.Wm)(i,{color:"primary",rounded:"",loading:(0,n.SU)(ee),onClick:pe,disable:!O.value.amount||O.value.amount<5e3/(0,n.SU)(le).course||!(0,n.SU)(Y)||!(0,n.SU)(ae),unelevated:"","no-caps":"",class:"full-width q-py-md",label:"Отправить"},null,8,["loading","disable"])])):(0,u.kq)("",!0)])):((0,u.wg)(),(0,u.iD)("div",T,[(0,u._)("p",j,[G,(0,u.Wm)(v,{style:{color:"inherit"},to:"/wallet/create_person"},{default:(0,u.w5)((()=>[X])),_:1}),I])]))])),_:1})])])),_:1})])),_:1})}}};var O=a(66663),Y=a(18401),J=a(13119),L=a(2286),ee=a(24455),le=a(69984),ae=a.n(le);const ue=M,ne=ue;ae()(M,"components",{QScrollArea:O.Z,QSelect:Y.Z,QInput:J.Z,QOptionGroup:L.Z,QBtn:ee.Z})}}]);