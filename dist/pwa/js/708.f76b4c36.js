"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[708],{75008:(e,a,t)=>{t.d(a,{C:()=>d,d:()=>n});var l=t(13433),s=t(17779);const n=({seed:e,password:a})=>{const t={status:!0,seed:e},s=l.createCipher("aes192",a);return s.update(JSON.stringify(t),"utf8","hex")+s.final("hex")},d=({hash:e,password:a})=>{try{const t=l.createDecipher("aes192",a),s=t.update(e,"hex","utf8")+t.final("utf8"),n=JSON.parse(s);return!!n.status&&n.seed}catch(t){return s.log(t),!1}}},14895:(e,a,t)=>{t.d(a,{Z:()=>v});var l=t(59835),s=t(60499),n=t(43463),d=t(87270),i=t(75008),o=t(17779);const u={props:["transactionInfo"]},c=Object.assign(u,{__name:"PinCodeModal",emits:["pincode_ок"],setup(e,{emit:a}){const t=(0,n.s)();function u(e){const l=localStorage.getItem("hash"),s=(0,i.C)({hash:l,password:e});o.log(s),s?(a("pincode_ок"),t.togglePinCodeModalVisible()):(0,d.d)("negative","Неверный пинкод")}return(e,a)=>{const n=(0,l.up)("pin-code"),d=(0,l.up)("q-btn"),i=(0,l.up)("q-card-section"),o=(0,l.up)("q-card"),c=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(c,{modelValue:(0,s.SU)(t).pinCodeModalVisible,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(t).pinCodeModalVisible=e),persistent:"",maximized:"","transition-show":"slide-left","transition-hide":"slide-right"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"bg-white fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"flex column items-center justify-center fullscreen"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{showDigits:!1,onPincode_ready:u}),(0,l.Wm)(d,{class:"q-mt-md",onClick:a[0]||(a[0]=e=>(0,s.SU)(t).togglePinCodeModalVisible()),"no-caps":"",unelevated:"",rounded:"",color:"negative",label:"Отмена"})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var m=t(32074),r=t(44458),w=t(63190),p=t(24455),f=t(69984),g=t.n(f);const _=c,v=_;g()(c,"components",{QDialog:m.Z,QCard:r.Z,QCardSection:w.Z,QBtn:p.Z})},60708:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ne});var l=t(59835),s=t(60499),n=t(86970),d=t(32743),i=t(76028),o=t(43463),u=t(46190),c=t(23459),m=t(18910);const r={class:"q-mb-none q-mr-sm"},w=(0,l._)("div",{class:"",style:{height:"60px"}},null,-1),p={class:"text-right"},f=["href"],g=(0,l.Uk)("Дата"),_=(0,l.Uk)("Создатель"),v={style:{"max-width":"90%"},class:"ellipsis"},x=(0,l.Uk)("Подтверждений"),k=(0,l.Uk)("Размер"),W=(0,l.Uk)("Подпись"),h={style:{"max-width":"100%"},class:"ellipsis"},b=(0,l.Uk)("Получатель"),y={style:{"max-width":"90%"},class:"ellipsis"},U=(0,l.Uk)("Сумма"),q=(0,l.Uk)("Статус"),S=(0,l.Uk)("Выполнена"),z=(0,l.Uk)("Все данные транзакции"),C={style:{"word-break":"break-all"},class:""},Z={props:["transactionInfo"]},Q=Object.assign(Z,{__name:"TransactionInfo",setup(e){const a=(0,o.s)();return(t,d)=>{const i=(0,l.up)("q-btn"),o=(0,l.up)("q-header"),u=(0,l.up)("q-item-section"),c=(0,l.up)("q-item"),m=(0,l.up)("q-badge"),Z=(0,l.up)("q-list"),Q=(0,l.up)("q-card-section"),V=(0,l.up)("q-card"),I=(0,l.up)("q-dialog"),j=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(I,{modelValue:(0,s.SU)(a).transactionInfoModalVisible,"onUpdate:modelValue":d[0]||(d[0]=e=>(0,s.SU)(a).transactionInfoModalVisible=e),persistent:"",maximized:"","transition-show":"slide-left","transition-hide":"slide-right"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{reveal:"",class:"text-white q-py-sm items-center flex justify-between"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(i,{label:"Назад","no-caps":"",icon:"las la-angle-left",unelevated:""},null,512),[[j]]),(0,l._)("p",r,"Транзакция #"+(0,n.zw)(e.transactionInfo.seqNo),1)])),_:1}),w,(0,l.Wm)(Q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("p",p,[(0,l._)("a",{class:"text-dark text-weight-medium",href:`https://scan.rupay.pro/index/blockexplorer.html?tx=${e.transactionInfo.seqNo}&lang=ru`,target:"_blank"}," Открыть в блок-эксплорере",8,f)]),(0,l.Wm)(Z,{dense:"",separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.fullDate),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",v,(0,n.zw)(e.transactionInfo.creator),1),(0,l.Uk)(" "+(0,n.zw)(e.transactionInfo.creator_name?`${e.transactionInfo.creator_name}`:""),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[x])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.confirmations),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.size),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",h,(0,n.zw)(e.transactionInfo.signature),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[b])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",y,(0,n.zw)(e.transactionInfo.recipient),1),(0,l.Uk)(" "+(0,n.zw)(e.transactionInfo.recipient_name?`${e.transactionInfo.recipient_name}`:""),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[U])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.transactionInfo.amount)+" "+(0,n.zw)(e.transactionInfo.asset_name),1)])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[q])),_:1}),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"positive","text-color":"white",style:{width:"30%"}},{default:(0,l.w5)((()=>[S])),_:1})])),_:1})])),_:1}),(0,l.Wm)(c,{class:"no-padding bg-grey-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[z])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.transactionInfo,((e,a)=>((0,l.wg)(),(0,l.j4)(c,{class:"no-padding",key:a},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(a),1)])),_:2},1024),(0,l.Wm)(u,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",C,(0,n.zw)(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var V=t(32074),I=t(44458),j=t(16602),H=t(24455),M=t(63190),P=t(13246),D=t(490),A=t(76749),F=t(20990),B=t(62146),$=t(69984),O=t.n($);const K=Q,L=K;O()(Q,"components",{QDialog:V.Z,QCard:I.Z,QHeader:j.Z,QBtn:H.Z,QCardSection:M.Z,QList:P.Z,QItem:D.Z,QItemSection:A.Z,QBadge:F.Z}),O()(Q,"directives",{ClosePopup:B.Z});var T=t(61957),Y=t(14895),N=t(87270),R=t(4682),E=t(98030),J=t(17779);const G=(0,l._)("div",{class:"",style:{height:"50px"}},null,-1),X=(0,l.Uk)("Ваш баланс"),ee=(0,l._)("p",{class:"text-bold q-mb-none"},"Основная информация",-1),ae=(0,l.Uk)("Кол-во отправляемого актива*"),te=(0,l.Uk)("Адрес получателя*"),le={id:"video-container"},se=(0,l._)("video",{id:"qr-video"},null,-1),ne=[se],de=(0,l._)("p",{class:"text-bold q-mb-none"},"Сообщение к отправке",-1),ie=(0,l.Uk)("Заголовок сообщения"),oe=(0,l.Uk)("Сообщение"),ue=(0,l.Uk)(" Подтверждение отправки актива "),ce=(0,l.Uk)("Актив"),me=(0,l.Uk)("Количество"),re=(0,l.Uk)("Получатель"),we={style:{"word-break":"break-all"}},pe=(0,l.Uk)("Комиссия транзакции"),fe={key:0},ge={key:1},_e=(0,l._)("p",{class:"text-caption text-white q-pa-md bg-negative"},"Внимание, если адрес получателя указан неверно, Вы не сможете вернуть средства назад",-1),ve={__name:"SendAssetModal",props:{asset:Object},emits:["close"],setup(e,{emit:a}){const d=e,i=(0,o.s)(),{EraChain:r}=((0,m.tv)(),t(99407)),w=(0,u.c)(),p=(0,c.Q)();let f=(0,s.iH)(!1);const g=(0,s.iH)(!1),_=(0,s.iH)(!1);let v=null;const x=(0,l.Fl)((()=>w.balances));(0,l.Fl)((()=>w.verifyPersonData));async function k(){_.value=!0;const e=document.getElementById("qr-video");J.log(e);const a=new R.Z(e,(e=>{J.log("decoded qr code:",e);try{h.value.address=e.data.split(":")[0],h.value.amount=e.data.split(":")[2],_.value=!1,a.stop()}catch(t){_.value=!1,a.stop()}}),{});v=a,await a.start()}function W(){i.togglePinCodeModalVisible()}const h=(0,s.iH)({amount:"",address:"",title:"",message:"",encrypted:!1,fee:0,raw:0});function b(){h.value={amount:"",address:"",title:"",message:"",encrypted:!0,fee:0,raw:0}}async function y(){g.value=!g.value;const e=!0,a=await p.getKeyPair(),t=new r.Type.KeyPair(a),l={assetKey:d.asset.key,amount:h.value.amount};J.log(t),J.log(l);const s=await E.era.tranRawSendAsset(t,l,h.value.address,h.value.title,h.value.message,h.value.encrypted,e);J.log(s),s.error?(0,N.d)("negative",s.error.message):(h.value.fee=s.fee,h.value.raw=s.raw),g.value=!g.value}async function U(){g.value=!g.value;const e=await E.era.broadcast64(h.value.raw);J.log(e),e.error?((0,N.d)("negative",e.message),g.value=!g.value):((0,N.d)("info","Транзакция создана"),f.value=!1,g.value=!g.value,i.toggleSendAssetModalVisible())}function q(){v&&v.stop(),a("close")}return(a,t)=>{const d=(0,l.up)("q-btn"),o=(0,l.up)("unconfirmed-tx-icon"),u=(0,l.up)("q-header"),c=(0,l.up)("q-item-section"),m=(0,l.up)("q-item"),r=(0,l.up)("q-input"),w=(0,l.up)("q-separator"),p=(0,l.up)("btn"),v=(0,l.up)("q-list"),S=(0,l.up)("q-card-section"),z=(0,l.up)("q-card"),C=(0,l.up)("q-dialog"),Z=(0,l.up)("q-card-actions"),Q=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(C,{modelValue:(0,s.SU)(i).sendAssetModalVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,s.SU)(i).sendAssetModalVisible=e),persistent:"",maximized:"",class:(0,n.C_)({hidden:(0,s.SU)(i).isPageHidden}),"transition-show":"slide-left","transition-hide":"slide-right",onBeforeHide:q},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{reveal:"",class:"text-white q-py-sm items-center flex justify-between"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(d,{"no-caps":"",label:`Отправка актива ${e.asset.name}`,icon:"las la-angle-left",unelevated:""},null,8,["label"]),[[Q]]),(0,l.Wm)(o)])),_:1}),G,(0,l.Wm)(S,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-bold text-dark"},{default:(0,l.w5)((()=>[X])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)((0,s.SU)(x)[e.asset.key][0][1])+" "+(0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),ee,(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ae])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{rounded:"",dense:"",outlined:"",type:"number",modelValue:h.value.amount,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value.amount=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[te])),_:1}),(0,l.Wm)(c,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{size:"18px","text-color":"dark",unelevated:"",icon:"las la-qrcode",onClick:k})])),_:1})])),_:1}),(0,l.wy)((0,l._)("div",le,ne,512),[[T.F8,_.value]]),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{rounded:"",dense:"",outlined:"",modelValue:h.value.address,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value.address=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(w,{class:"q-my-md"}),de,(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ie])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{rounded:"",dense:"",outlined:"",modelValue:h.value.title,"onUpdate:modelValue":t[2]||(t[2]=e=>h.value.title=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[oe])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{rounded:"",type:"textarea",dense:"",outlined:"",modelValue:h.value.message,"onUpdate:modelValue":t[3]||(t[3]=e=>h.value.message=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(w,{class:"q-my-md"}),(0,l.Wm)(p,{label:"Отправить",onClick:W,disabled:!h.value.amount||!h.value.address,outline:!1},null,8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","class"]),(0,l.Wm)(C,{modelValue:(0,s.SU)(f),"onUpdate:modelValue":t[5]||(t[5]=e=>(0,s.dq)(f)?f.value=e:f=e),persistent:"","transition-show":"scale","transition-hide":"scale",onBeforeHide:b},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{class:"bg-white text-dark",style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"text-weight-bold"},{default:(0,l.w5)((()=>[ue])),_:1}),(0,l.Wm)(S,{class:"q-py-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{dense:"",separator:"",class:"q-mb-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[ce])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[me])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(h.value.amount)+" "+(0,n.zw)(e.asset.name),1)])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[re])),_:1}),(0,l.Wm)(c,{class:"text-caption"},{default:(0,l.w5)((()=>[(0,l._)("span",we,(0,n.zw)(h.value.address),1)])),_:1})])),_:1}),(0,l.Wm)(m,{class:"no-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{side:"",class:"text-weight-medium text-dark"},{default:(0,l.w5)((()=>[pe])),_:1}),(0,l.Wm)(c,{class:"text-caption"},{default:(0,l.w5)((()=>["РОЛФ Тех.Аккаунт ruPay"===e.asset.maker_name?((0,l.wg)(),(0,l.iD)("span",fe,(0,n.zw)(parseFloat(.01*h.value.amount).toFixed(5)),1)):(0,l.kq)("",!0),h.value.fee>0?((0,l.wg)(),(0,l.iD)("span",ge,"+ газ "+(0,n.zw)(h.value.fee)+" "+(0,n.zw)(e.asset.key<4e3?e.asset.name:"OLF"),1)):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1}),_e])),_:1}),(0,l.Wm)(Z,{class:"bg-white text-teal"},{default:(0,l.w5)((()=>[0===h.value.fee?((0,l.wg)(),(0,l.j4)(d,{key:0,label:"Расчет комиссии",rounded:"",loading:g.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"info",onClick:y,outline:!1},null,8,["loading"])):((0,l.wg)(),(0,l.j4)(d,{key:1,label:"Подтвердить",rounded:"",loading:g.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"positive",onClick:U,outline:!1},null,8,["loading"])),(0,l.wy)((0,l.Wm)(d,{label:"Отменить",rounded:"","no-caps":"",color:"negative",class:"full-width",unelevated:"",outline:"",loading:g.value},null,8,["loading"]),[[Q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)((0,s.SU)(Y.Z),{onPincode_ок:t[6]||(t[6]=e=>(0,s.dq)(f)?f.value=!0:f=!0)})],64)}}};var xe=t(13119),ke=t(50926),We=t(11221),he=t(11821);const be=ve,ye=be;O()(ve,"components",{QDialog:V.Z,QCard:I.Z,QHeader:j.Z,QBtn:H.Z,QCardSection:M.Z,QList:P.Z,QItem:D.Z,QItemSection:A.Z,QInput:xe.Z,QSeparator:ke.Z,QCheckbox:We.Z,QCardActions:he.Z}),O()(ve,"directives",{ClosePopup:B.Z});var Ue=t(17779);const qe={class:"page-body--top flex column items-center justify-evenly"},Se={class:"text-center"},ze=["src"],Ce={class:"text-center"},Ze={class:"flex items-center justify-evenly full-width text-white"},Qe=(0,l._)("p",{class:"no-margin text-caption lh100 text-dark"},[(0,l.Uk)("Отправить"),(0,l._)("br"),(0,l.Uk)("в сети RUPAY")],-1),Ve=(0,l._)("p",{class:"no-margin text-caption lh100 text-dark"},[(0,l.Uk)("Получить"),(0,l._)("br"),(0,l.Uk)("в сети RUPAY")],-1),Ie=(0,l._)("p",{class:"no-margin text-caption lh100 text-dark"},[(0,l.Uk)("Пополнить"),(0,l._)("br"),(0,l.Uk)("баланс игры")],-1),je=(0,l._)("p",{class:"no-margin text-caption text-dark"},"Обмен",-1),He={class:""},Me={class:"flex items-center justify-between q-pa-md"},Pe=(0,l._)("p",{class:"q-mb-none"},"История транзакций",-1),De={class:"asset-date q-pa-md bg-grey-2 q-mb-none"},Ae={style:{"max-width":"70%"},class:"ellipsis inline-block"},Fe={key:0,class:"text-center q-pa-md"},Be={components:{TransactionInfo:L,SendAssetModal:ye}},$e=Object.assign(Be,{__name:"Asset",setup(e){const a=(0,o.s)(),t=(0,u.c)(),r=(0,c.Q)(),w=(0,m.yj)(),p="https://scan.rupay.pro";let f=(0,s.iH)(0),g=(0,s.iH)({}),_=(0,s.iH)([]),v=(0,s.iH)(!1),x=(0,s.iH)(!1),k=(0,s.iH)(0);const W=(0,l.Fl)((()=>t.addresses[t.currentAddressIdx].address)),h=(0,l.Fl)((()=>d.ZP.isEmpty(_.value))),b=(0,l.Fl)((()=>t.assets[f.value])),y=(0,l.Fl)((()=>r.assets)),U=(0,l.Fl)((()=>t.balances[b.value.key][0][1])),q=(0,l.Fl)((()=>U.value*b.value.course));async function S(e,a){v.value=!v.value;const t=await(0,i.sg)(W.value,b.value.key,e,a);_.value=d.ZP.groupBy(t,"timestamp"),v.value=!v.value}async function z(){k.value+=50,await S(50,k.value)}return(0,l.bv)((async()=>{f.value=w.params.asset_key,x.value=y.value.find((e=>e.key===b.value.key)).is_game_asset,Ue.log(b.value),await S(50,k.value)})),(e,t)=>{const d=(0,l.up)("page-header"),i=(0,l.up)("q-avatar"),o=(0,l.up)("q-icon"),u=(0,l.up)("q-item-section"),c=(0,l.up)("q-item-label"),m=(0,l.up)("q-item"),r=(0,l.up)("q-list"),w=(0,l.up)("q-btn"),f=(0,l.up)("q-scroll-area"),y=(0,l.up)("page-body"),C=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l._)("div",qe,[(0,l.Wm)(d),(0,l._)("div",Se,[(0,l.Wm)(i,{size:"50px",class:"q-mr-md"},{default:(0,l.w5)((()=>[(0,l._)("img",{src:(0,s.SU)(p)+(0,s.SU)(b).iconURL,alt:""},null,8,ze)])),_:1})]),(0,l._)("div",Ce,[(0,l._)("p",{class:(0,n.C_)(["text-bold text-h6 text-white no-margin",{blur:e.$global.isBlur}])},(0,n.zw)((0,s.SU)(U))+" "+(0,n.zw)((0,s.SU)(b).name),3),(0,l._)("p",{class:(0,n.C_)(["text-weight-medium text-body1 text-white no-margin",{blur:e.$global.isBlur}])},"~ "+(0,n.zw)(e.$filters.convertAmount((0,s.SU)(q)))+" ₽",3)]),(0,l._)("div",Ze,[(0,l._)("div",{class:"text-center",onClick:t[0]||(t[0]=e=>(0,s.SU)(a).toggleSendAssetModalVisible())},[(0,l.Wm)(i,{class:"bg-teal-6 q-mb-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{size:"22px",name:"las la-upload"})])),_:1}),Qe]),(0,l._)("div",{class:"text-center",onClick:t[1]||(t[1]=a=>e.$router.push(`/wallet/receive?asset=${(0,s.SU)(b).key}&amount=0`))},[(0,l.Wm)(i,{class:"bg-teal-6 q-mb-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{size:"22px",name:"las la-download"})])),_:1}),Ve]),(0,s.SU)(x)?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"text-center",onClick:t[2]||(t[2]=a=>e.$router.push({name:"games",params:{asset_key:(0,s.SU)(b).key}}))},[(0,l.Wm)(i,{class:"bg-teal-6 q-mb-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{size:"22px",name:"las la-gamepad"})])),_:1}),Ie])):(0,l.kq)("",!0),(0,l._)("div",{class:"text-center",onClick:t[3]||(t[3]=a=>e.$router.push({name:"wallet_exchange"}))},[(0,l.Wm)(i,{class:"bg-teal-6 q-mb-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{size:"22px",name:"las la-exchange-alt"})])),_:1}),je])])]),(0,l._)("div",He,[(0,l._)("div",Me,[Pe,(0,l.Wm)(o,{onClick:t[4]||(t[4]=e=>((0,s.dq)(k)?k.value=0:k=0,S(50,(0,s.SU)(k)))),name:"las la-sync",color:"primary",size:"26px",class:(0,n.C_)({rotate:(0,s.SU)(v)})},null,8,["class"])]),(0,l.Wm)(f,{style:{height:"50vh",width:"100vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{style:{width:"100vw"},separator:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,s.SU)(_),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"",key:t},[(0,l._)("p",De,(0,n.zw)(t),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e,((e,t)=>((0,l.wg)(),(0,l.j4)(m,{clickable:"",onClick:t=>((0,s.dq)(g)?g.value=e:g=e,(0,s.SU)(a).toggleTransactionInfoModalVisible()),key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{avatar:""},{default:(0,l.w5)((()=>[(0,s.SU)(W)!==e.creator&&1===Math.sign(e.amount)?((0,l.wg)(),(0,l.j4)(o,{key:0,color:"positive",name:"las la-arrow-down"})):((0,l.wg)(),(0,l.j4)(o,{key:1,color:"negative",name:"las la-arrow-up"}))])),_:2},1024),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[e.message?((0,l.wg)(),(0,l.j4)(c,{key:0,overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.message),1)])),_:2},1024)):((0,l.wg)(),(0,l.j4)(c,{key:1,overline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.actionName),1)])),_:2},1024)),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[(0,l._)("span",Ae,(0,n.zw)((0,s.SU)(W)!==e.creator&&1===Math.sign(e.amount)?"от":"кому")+" "+(0,n.zw)((0,s.SU)(W)!==e.creator&&1===Math.sign(e.amount)?e.creator:e.recipient),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(u,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(parseFloat(e.amount).toFixed(4)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])))),128))])),_:1}),(0,s.SU)(h)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",Fe,[(0,l.Wm)(w,{rounded:"",color:"primary",label:"Загрузить еще",loading:(0,s.SU)(v),"no-caps":"",outline:"",icon:"add",onClick:z},null,8,["loading"])]))])),_:1})])])),_:1}),(0,l.Wm)((0,s.SU)(L),{"transaction-info":(0,s.SU)(g)},null,8,["transaction-info"]),(0,l.Wm)((0,s.SU)(ye),{asset:(0,s.SU)(b),onClose:t[5]||(t[5]=e=>S(50,0))},null,8,["asset"])])),_:1})}}});var Oe=t(61357),Ke=t(22857),Le=t(66663),Te=t(33115);const Ye=$e,Ne=Ye;O()($e,"components",{QAvatar:Oe.Z,QIcon:Ke.Z,QScrollArea:Le.Z,QList:P.Z,QItem:D.Z,QItemSection:A.Z,QItemLabel:Te.Z,QBtn:H.Z})}}]);